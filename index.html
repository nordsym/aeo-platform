<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NordSym | AEO & GEO Tjänster</title>
    <meta name="description" content="Från SEO till AEO. Optimera din digitala närvaro för AI-sökmotorer som ChatGPT och Perplexity.">
    
    <!-- SEO & Social -->
    <meta name="keywords" content="AEO, GEO, AI Sök, ChatGPT Optimering, Google SGE, Röstsök, NordSym">
    <meta name="author" content="NordSym AB">
    <meta property="og:type" content="website">
    <meta property="og:title" content="NordSym | Framtidens Sök">
    <meta property="og:description" content="2005 var det SEO. 2026 är det AEO. Är ditt företag redo för AI-sök?">
    <meta property="og:image" content="https://nordsym.com/og-aeo.jpg">
    <meta name="twitter:card" content="summary_large_image">

    <!-- NordSym Favicon Implementation -->
    <link rel="icon" type="image/svg+xml" href="https://raw.githubusercontent.com/GusHem/Logga-utan-text/refs/heads/main/Final%20logo%20no%20text.svg">
    
    <!-- Analytics -->
    <script defer data-domain="aeo.nordsym.com" src="https://plausible.io/js/script.js"></script>

    <!-- Framework & Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&family=Inter:wght@300;400;500;600;700;800&family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Comfortaa', 'sans-serif'],
                        mono: ['Source Code Pro', 'monospace'],
                    },
                    colors: {
                        nord: {
                            bg: '#0c1427',
                            cyan: '#00D4FF',
                            purple: '#9370DB',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --nord-bg-primary: #0c1427;
            --nord-cyan: #00D4FF;
            --nord-purple: #9370DB;
            --nord-text-primary: #F0F4F8;
            --nord-text-secondary: #CBD5E0;
            --glass-bg: rgba(30, 58, 138, 0.1); 
            --glass-border: rgba(0, 212, 255, 0.25);
            --glass-blur: blur(16px);
            --input-bg: rgba(12, 20, 39, 0.8);
            --input-border: rgba(240, 244, 248, 0.2);
            --cyan-glow: rgba(0, 212, 255, 0.3);
            --success: #10B981;
            --error: #EF4444;
        }

        body[data-theme="light"] {
            --nord-bg-primary: #FFFFFF;
            --nord-cyan: #00BFFF;
            --nord-text-primary: #0A2540;
            --nord-text-secondary: #4B5563;
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-border: #E5E7EB;
            --input-bg: #F9FAFB;
            --input-border: #D1D5DB;
            --cyan-glow: rgba(0, 191, 255, 0.08);
        }

        body {
            background-color: var(--nord-bg-primary);
            color: var(--nord-text-primary);
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1), color 0.3s ease;
            position: relative;
            overflow-x: hidden;
        }

        #starfall {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 1;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        body[data-theme="light"] #starfall { opacity: 0; }
        body[data-theme="light"] {
            background-image: linear-gradient(#F3F4F6 1px, transparent 1px), linear-gradient(90deg, #F3F4F6 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        h1, h2, h3, h4 { font-family: 'Comfortaa', sans-serif; font-weight: 700; letter-spacing: -0.03em; }
        .font-mono { font-family: 'Source Code Pro', monospace; }

        .cta-button {
            width: 100%;
            padding: 1rem 1.5rem;
            background: rgba(0, 31, 63, 0.8);
            border: 2px solid var(--nord-cyan);
            color: var(--nord-cyan);
            border-radius: 9999px;
            box-shadow: 0 0 15px var(--cyan-glow);
            font-family: 'Comfortaa', sans-serif;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .cta-button:hover:not(:disabled) {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 0 25px var(--cyan-glow);
            background: rgba(0, 31, 63, 0.95);
        }

        .cta-button.primary-solid { background: var(--nord-cyan); color: #0c1427; font-weight: 800; }
        .cta-button.primary-solid:hover { background: #4de1ff; color: #000; }
        .cta-button:disabled { opacity: 0.6; cursor: wait; transform: none !important; }

        body[data-theme="light"] .cta-button { background: white; border-color: #00BFFF; color: #00BFFF; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); }
        body[data-theme="light"] .cta-button.primary-solid { background: #00BFFF; color: white; }

        .glass-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            border-radius: 1.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover { transform: translateY(-5px); border-color: var(--nord-cyan); }
        .glass-card.highlight { border-color: var(--nord-cyan); box-shadow: 0 0 30px rgba(0, 212, 255, 0.15); z-index: 10; }
        
        body:not([data-theme="light"]) .glass-card.highlight { background: rgba(10, 40, 80, 0.4); box-shadow: 0 0 40px rgba(0, 212, 255, 0.15); }
        body[data-theme="light"] .glass-card.highlight { background: #FFFFFF; box-shadow: 0 10px 40px rgba(0, 191, 255, 0.12); border-width: 2px; border-color: var(--nord-cyan); }

        @media (min-width: 1025px) {
            .glass-card.highlight { transform: scale(1.05); }
            .glass-card.highlight:hover { transform: scale(1.05) translateY(-5px); }
        }

        .input-styled {
            background-color: var(--input-bg);
            border: 1px solid var(--input-border);
            color: var(--nord-text-primary);
            border-radius: 0.75rem;
            font-family: 'Source Code Pro', monospace;
            padding: 1rem 1.25rem;
            width: 100%;
            font-size: 1.1rem;
            transition: all 0.2s ease;
        }

        .input-styled:focus { outline: none; border-color: var(--nord-cyan); box-shadow: 0 0 12px var(--cyan-glow); background-color: var(--nord-bg-primary); }
        body[data-theme="light"] .input-styled { color: var(--nord-text-primary); }

        details summary::-webkit-details-marker { display: none; }
        details[open] summary i { transform: rotate(180deg); }
        
        .spinner { width: 20px; height: 20px; border: 2px solid rgba(0, 212, 255, 0.2); border-top-color: var(--nord-cyan); border-radius: 50%; animation: spin 0.6s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .modal-hidden { opacity: 0; pointer-events: none; visibility: hidden; }
        .modal-active { opacity: 1; pointer-events: all; visibility: visible; }

        /* AI PULSE ANIMATION */
        .ai-icon-container {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.6em; /* Width to hold the icon inline without shifting text too much */
            height: 1.6em;
            vertical-align: middle;
            position: relative;
            margin: 0 0.2em;
        }

        .ai-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensures images fit within the container */
            transform: translate(-50%, -50%) scale(0.5);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); /* Bouncy organic feel */
            color: var(--nord-text-secondary);
        }

        /* SVG specific coloring fallback */
        svg.ai-icon {
            fill: currentColor;
        }

        .ai-icon.active {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1); /* Reset scale to 1 for images */
        }

        /* DARK MODE FIX: White Badge for Images */
        /* This creates a clean white circle background behind the logos in dark mode to hide square artifacts */
        body:not([data-theme="light"]) img.ai-icon {
            background-color: white;
            border-radius: 50%;
            padding: 2px;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.2); /* Nord Cyan Glow */
        }

        /* BRAND COLORS & GLOWS */
        .brand-openai.active { filter: drop-shadow(0 0 15px rgba(16, 163, 127, 0.4)); }
        .brand-claude.active { filter: drop-shadow(0 0 15px rgba(193, 95, 60, 0.5)); }
        .brand-perplexity.active { filter: drop-shadow(0 0 15px rgba(34, 184, 205, 0.4)); }
        .brand-gemini.active { color: #4E86F8 !important; filter: drop-shadow(0 0 15px rgba(78, 134, 248, 0.4)); }
        .brand-x.active { color: #ffffff !important; filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.4)); }
        .brand-grok.active { filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.4)); }
        .brand-github.active { color: #ffffff !important; filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.3)); }

        body[data-theme="light"] .brand-x.active, 
        body[data-theme="light"] .brand-github.active { color: #000000 !important; filter: drop-shadow(0 0 10px rgba(0,0,0,0.2)); }
        body[data-theme="light"] .brand-grok.active { filter: drop-shadow(0 0 10px rgba(0,0,0,0.2)); }
    </style>
</head>
<body class="antialiased" data-theme="light">

    <!-- CANVAS BACKGROUND -->
    <canvas id="starfall"></canvas>

    <!-- NAVIGATION -->
    <nav class="fixed top-0 w-full z-50 px-6 py-4 flex justify-between items-center bg-gradient-to-b from-[#0c1427]/80 to-transparent backdrop-blur-md">
        <div class="flex items-center gap-4">
            <a href="https://nordsym.com" class="block hover:scale-110 transition-transform duration-300">
                <img src="https://raw.githubusercontent.com/GusHem/Logga-utan-text/refs/heads/main/Final%20logo%20no%20text.svg" alt="NordSym Logo" class="h-10 w-10 drop-shadow-[0_0_8px_rgba(0,212,255,0.4)]">
            </a>
            <div class="px-2.5 py-0.5 rounded-full bg-[var(--nord-purple)]/20 border border-[var(--nord-purple)]/40 text-[var(--nord-purple)] text-[10px] font-extrabold tracking-widest uppercase flex items-center gap-2 cursor-help" title="Systemet är i stängd beta">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[var(--nord-purple)] opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-[var(--nord-purple)]"></span>
                </span>
                Beta
            </div>
            <div class="h-6 w-[1px] bg-white/10 hidden sm:block"></div>
            <a href="https://nordsym.com" class="hidden sm:flex items-center gap-2 text-xs font-bold uppercase tracking-tighter opacity-60 hover:opacity-100 hover:text-nord-cyan transition-all">
                <i class="ph-bold ph-arrow-left"></i>
                Huvudsajt
            </a>
        </div>
        <button id="themeToggle" class="w-10 h-10 rounded-full flex items-center justify-center border border-[var(--glass-border)] bg-[var(--glass-bg)] text-[var(--nord-cyan)] hover:scale-110 transition-transform shadow-lg" aria-label="Byt tema">
            <i class="ph-bold ph-moon theme-icon text-lg"></i>
        </button>
    </nav>

    <!-- MODALS -->
    <!-- INTERCEPT MODAL (N8N) -->
    <div id="interceptModal" class="fixed inset-0 z-[1000] flex items-center justify-center bg-[#0c1427]/90 backdrop-blur-xl modal-hidden transition-all duration-300">
        <div class="glass-card p-10 max-w-lg w-full transform transition-all duration-500 relative mx-4">
            <button onclick="closeModal('interceptModal')" class="absolute top-4 right-4 opacity-50 hover:opacity-100 hover:text-red-400 p-2">
                <i class="ph-bold ph-x text-xl"></i>
            </button>
            <div class="text-center mb-8">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[var(--nord-cyan)]/20 border border-[var(--nord-cyan)] text-[var(--nord-cyan)] text-[10px] font-bold uppercase tracking-widest mb-4">
                    <span class="w-2 h-2 rounded-full bg-[var(--nord-cyan)] animate-pulse"></span>
                    Analys Förberedd
                </div>
                <h2 class="text-3xl mb-3">Redo för utskick</h2>
                <p class="opacity-70 text-sm leading-relaxed">Systemet har identifierat din domän. Vart ska vi skicka din tekniska AEO/GEO-rapport?</p>
            </div>
            <form id="leadForm" class="space-y-4" data-target="n8n">
                <div>
                    <label class="block text-[10px] font-mono opacity-50 mb-2 uppercase tracking-widest">Företags-epost</label>
                    <input type="email" name="email" id="leadEmail" required placeholder="namn@foretag.se" class="input-styled">
                </div>
                <input type="hidden" name="url" id="leadUrl">
                <button type="submit" class="cta-button w-full mt-2">
                    <span>Lås upp Analys</span>
                    <i class="ph-bold ph-arrow-right"></i>
                </button>
                <p class="text-[10px] text-center opacity-50 mt-4 italic">Analysen genereras och skickas via e-post inom kort.</p>
            </form>
        </div>
    </div>

    <!-- PLAN MODAL (FORMSPREE) -->
    <div id="planModal" class="fixed inset-0 z-[1000] flex items-center justify-center bg-[#0c1427]/90 backdrop-blur-xl modal-hidden transition-all duration-300">
        <div class="glass-card p-10 max-w-lg w-full transform transition-all duration-500 relative mx-4">
            <button onclick="closeModal('planModal')" class="absolute top-4 right-4 opacity-50 hover:opacity-100 hover:text-red-400 p-2">
                <i class="ph-bold ph-x text-xl"></i>
            </button>
            <div class="text-center mb-8">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[var(--nord-cyan)]/20 border border-[var(--nord-cyan)] text-[var(--nord-cyan)] text-[10px] font-bold uppercase tracking-widest mb-4">Early Access</div>
                <h2 class="text-3xl mb-3" id="planModalTitle">Gå med i kön</h2>
                <p class="opacity-70 text-sm leading-relaxed">Vi rullar ut plattformen för <span id="planNameDisplay" class="font-bold text-[var(--nord-cyan)]"></span> i etapper.</p>
            </div>
            <form id="planForm" class="space-y-4" data-target="formspree">
                <div><label class="block text-[10px] font-mono opacity-50 mb-2 uppercase tracking-widest">Företags-epost</label><input type="email" name="email" required placeholder="namn@foretag.se" class="input-styled"></div>
                <div><label class="block text-[10px] font-mono opacity-50 mb-2 uppercase tracking-widest">Webbplats</label><input type="url" name="url" placeholder="foretag.com" class="input-styled"></div>
                <input type="hidden" name="plan" id="planSelected">
                <button type="submit" class="cta-button w-full mt-2"><span>Säkra din plats</span><i class="ph-bold ph-paper-plane-right"></i></button>
            </form>
        </div>
    </div>

    <!-- CONTACT MODAL (FORMSPREE) -->
    <div id="contactModal" class="fixed inset-0 z-[1000] flex items-center justify-center bg-[#0c1427]/95 backdrop-blur-2xl modal-hidden transition-all duration-300">
        <div class="glass-card p-8 md:p-12 max-w-xl w-full transform transition-all duration-500 relative mx-4 border-nord-cyan/30 overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-nord-cyan via-nord-purple to-nord-cyan"></div>
            <button onclick="closeModal('contactModal')" class="absolute top-6 right-6 opacity-30 hover:opacity-100 p-2"><i class="ph-bold ph-x text-2xl"></i></button>
            <div class="text-center mb-10">
                <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-nord-cyan/10 border border-nord-cyan/20 text-nord-cyan text-[10px] font-black uppercase tracking-[0.2em] mb-6">DIREKTKONTAKT</div>
                <h2 class="text-3xl md:text-4xl mb-4">Låt oss prata framtid</h2>
                <p class="opacity-60 text-sm max-w-sm mx-auto">Har du frågor om AEO eller vill diskutera ett specifikt case?</p>
            </div>
            <form id="contactForm" class="space-y-5" data-target="formspree">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div><input type="text" name="name" required placeholder="Namn" class="input-styled !bg-white/5"></div>
                    <div><input type="email" name="email" required placeholder="E-post" class="input-styled !bg-white/5"></div>
                </div>
                <textarea name="message" required rows="4" placeholder="Ditt meddelande..." class="input-styled !bg-white/5 resize-none"></textarea>
                <button type="submit" class="cta-button primary-solid w-full">Skicka Meddelande</button>
            </form>
        </div>
    </div>

    <!-- PRIVACY MODAL -->
    <div id="privacyModal" class="fixed inset-0 z-[1000] flex items-center justify-center bg-[#0c1427]/95 backdrop-blur-xl modal-hidden transition-all duration-300">
        <div class="glass-card p-10 max-w-2xl w-full transform transition-all duration-500 relative mx-4 max-h-[80vh] overflow-y-auto border-nord-cyan/20">
            <button onclick="closeModal('privacyModal')" class="absolute top-4 right-4 opacity-50 hover:opacity-100 p-2"><i class="ph-bold ph-x text-xl"></i></button>
            <h2 class="text-3xl mb-6 tracking-tighter">Integritetspolicy</h2>
            <div class="space-y-6 text-sm opacity-70 leading-relaxed font-mono">
                <p><strong>Datalagring:</strong> Vi sparar endast de uppgifter du själv anger i våra formulär (E-post, URL, Namn). Denna data används uteslutande för att generera den begärda AEO-rapporten och för framtida kommunikation från NordSym.</p>
                <p><strong>Cookies:</strong> Vi använder minimalt med cookies för att förbättra din upplevelse och för att mäta anonym statistik via Plausible (inga personuppgifter spåras).</p>
                <p><strong>Dina Rättigheter:</strong> Du har när som helst rätt att begära utdrag eller radering av din data. Kontakta oss på hello@nordsym.com.</p>
            </div>
            <button onclick="closeModal('privacyModal')" class="cta-button mt-8 text-xs">Jag förstår</button>
        </div>
    </div>

    <!-- TERMS MODAL -->
    <div id="termsModal" class="fixed inset-0 z-[1000] flex items-center justify-center bg-[#0c1427]/95 backdrop-blur-xl modal-hidden transition-all duration-300">
        <div class="glass-card p-10 max-w-2xl w-full transform transition-all duration-500 relative mx-4 max-h-[80vh] overflow-y-auto border-nord-cyan/20">
            <button onclick="closeModal('termsModal')" class="absolute top-4 right-4 opacity-50 hover:opacity-100 p-2"><i class="ph-bold ph-x text-xl"></i></button>
            <h2 class="text-3xl mb-6 tracking-tighter">Användarvillkor</h2>
            <div class="space-y-6 text-sm opacity-70 leading-relaxed font-mono">
                <p><strong>Analysens natur:</strong> NordSym AEO-rapporter är baserade på aktuella algoritmer hos AI-motorer som ChatGPT och Perplexity. Vi garanterar inte specifika placeringar då dessa algoritmer är utanför vår direkta kontroll.</p>
                <p><strong>Användning:</strong> Innehållet i de rapporter vi levererar är avsett för intern affärsutveckling. Det är förbjudet att vidaresälja våra analyser utan skriftligt godkännande.</p>
                <p><strong>Ansvar:</strong> NordSym AB ansvarar inte för eventuella affärsmässiga beslut som fattas baserat på de genererade rapporterna.</p>
            </div>
            <button onclick="closeModal('termsModal')" class="cta-button mt-8 text-xs">Acceptera villkor</button>
        </div>
    </div>

    <!-- SUCCESS MODAL -->
    <div id="successModal" class="fixed inset-0 z-[1100] flex items-center justify-center bg-[#0c1427]/95 backdrop-blur-2xl modal-hidden transition-all duration-300">
        <div class="glass-card p-10 text-center max-w-md w-full relative mx-4 border-success/30 shadow-[0_0_40px_rgba(16,185,129,0.1)]">
            <div class="w-16 h-16 bg-success/20 rounded-full flex items-center justify-center mx-auto mb-6 text-success text-3xl"><i class="ph-bold ph-check-circle"></i></div>
            <h2 class="text-3xl mb-2 font-black tracking-tight">Mottaget!</h2>
            <p class="mb-8 text-sm opacity-70 leading-relaxed">Vi bearbetar nu informationen för: <br><span id="displaySuccessUrl" class="inline-block mt-2 px-3 py-1 bg-white/5 rounded font-mono text-nord-cyan border border-white/10">---</span></p>
            
            <!-- Updated Info Box: Cleaner Color & Copy -->
            <div class="bg-nord-cyan/5 rounded-2xl p-6 text-left border border-nord-cyan/10 mb-8">
                <div class="text-[9px] font-black uppercase tracking-widest text-nord-cyan mb-4 flex items-center gap-2"><i class="ph-bold ph-fast-forward"></i> Vad händer nu?</div>
                <ul class="space-y-4">
                    <li class="flex items-start gap-3">
                        <div class="w-5 h-5 rounded-full bg-nord-cyan/10 flex items-center justify-center shrink-0 mt-0.5"><i class="ph-bold ph-cpu text-[10px] text-nord-cyan"></i></div>
                        <span class="text-xs opacity-80">Vi analyserar din domän</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <div class="w-5 h-5 rounded-full bg-nord-cyan/10 flex items-center justify-center shrink-0 mt-0.5"><i class="ph-bold ph-chart-bar text-[10px] text-nord-cyan"></i></div>
                        <span class="text-xs opacity-80">Beräknar din AI-synlighet</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <div class="w-5 h-5 rounded-full bg-nord-cyan/10 flex items-center justify-center shrink-0 mt-0.5"><i class="ph-bold ph-envelope-simple-open text-[10px] text-nord-cyan"></i></div>
                        <span class="text-xs opacity-80">Du får rapporten strax <span class="text-nord-cyan/70 italic">(kolla skräpposten!)</span></span>
                    </li>
                </ul>
            </div>
            
            <button onclick="closeModal('successModal')" class="text-xs uppercase tracking-[0.2em] font-black opacity-40 hover:opacity-100 hover:text-nord-cyan transition-all">Stäng fönstret</button>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <!-- HERO -->
    <section class="min-h-screen flex items-center justify-center pt-24 pb-20 relative px-6">
        <div class="max-w-4xl w-full text-center z-10">
            <div class="flex flex-wrap justify-center items-center gap-2 md:gap-4 mb-10 text-[10px] font-mono">
                <span class="px-3 py-1 rounded border border-nord-cyan/20 opacity-70">2000: Bannerannonser</span>
                <span class="opacity-50 text-nord-cyan">→</span>
                <span class="px-3 py-1 rounded border border-nord-cyan/40 opacity-90">2005: SEO & SEM</span>
                <span class="opacity-30">→</span>
                <span class="px-3 py-1 rounded bg-[var(--nord-cyan)] text-[#0c1427] font-black shadow-[0_0_20px_var(--cyan-glow)]">2026: AEO & GEO</span>
            </div>
            <h1 class="text-4xl md:text-6xl lg:text-7xl mb-8 leading-[1.1] tracking-tighter">Är ditt varumärke <br><span class="text-nord-cyan">synligt för AI?</span></h1>
            
            <!-- AI PULSE PARAGRAPH -->
            <p class="text-lg md:text-xl opacity-70 max-w-2xl mx-auto mb-12 font-medium flex items-center justify-center flex-wrap gap-1">
                Optimera för
                <span class="ai-icon-container">
                    <!-- OpenAI (ChatGPT) -->
                    <img src="https://raw.githubusercontent.com/nordsym/development/refs/heads/main/chattgpt.svg" alt="OpenAI" class="ai-icon brand-openai active">
                    
                    <!-- Anthropic (Claude) -->
                    <img src="https://raw.githubusercontent.com/nordsym/development/refs/heads/main/Claude_AI_symbol.svg" alt="Claude" class="ai-icon brand-claude">
                    
                    <!-- Perplexity AI -->
                    <img src="https://raw.githubusercontent.com/nordsym/development/refs/heads/main/69a62a5edc08d755dd8a4ef017e14c63.svg" alt="Perplexity" class="ai-icon brand-perplexity">
                    
                    <!-- Google Gemini -->
                    <img src="https://raw.githubusercontent.com/nordsym/development/refs/heads/main/Google-Gemini-Logo-Transparent-thumb.svg" alt="Gemini" class="ai-icon brand-gemini">

                    <!-- xAI (X Logo, Waiting for upload, using inline) -->
                    <svg class="ai-icon brand-x" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231 5.45-6.231h0.001zm-1.161 17.52h1.833L7.084 4.126H5.117L17.083 19.77z"/>
                    </svg>

                    <!-- Grok -->
                    <img src="https://raw.githubusercontent.com/nordsym/development/refs/heads/main/grok-logo-png_seeklogo-613403.svg" alt="Grok" class="ai-icon brand-grok">

                    <!-- GitHub (Waiting for upload, using inline) -->
                    <svg class="ai-icon brand-github" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.419-1.305.762-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.22.694.825.576C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
                    </svg>
                </span>
                . Vi transformerar din webbplats från en statisk sida till en källa som AI-motorer litar på.
            </p>

            <form id="heroForm" class="glass-card p-6 md:p-10 max-w-2xl mx-auto shadow-2xl relative group">
                <div class="relative mb-6">
                    <input type="text" id="heroUrl" class="input-styled text-center" placeholder="Ange din domän (t.ex. foretag.com)" required autocomplete="off" />
                </div>
                <button type="submit" id="heroSubmitBtn" class="cta-button text-lg py-4" disabled>
                    <span id="heroBtnText">Kör Kostnadsfri AI-Analys</span>
                    <div id="heroSpinner" class="spinner hidden ml-2"></div>
                </button>
            </form>
        </div>
    </section>

    <!-- EDUCATION -->
    <section class="py-24 px-6 relative border-t border-white/5">
        <div class="container mx-auto max-w-6xl text-center mb-20">
            <h2 class="text-3xl md:text-5xl mb-6 tracking-tighter">Det Nya Paradigmet</h2>
            <p class="opacity-60 max-w-xl mx-auto">Sökvärlden har förändrats. Idag söker folk inte efter länkar, de söker efter svar.</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div class="glass-card p-8 hover:bg-[var(--nord-purple)]/5"><div class="w-14 h-14 bg-[var(--nord-purple)]/10 rounded-2xl flex items-center justify-center text-[var(--nord-purple)] text-3xl mb-8"><i class="ph-duotone ph-brain"></i></div><h3 class="text-2xl mb-4">AEO</h3><p class="opacity-70 text-sm"><strong>Answer Engine Optimization.</strong> Strukturering så att AI-modeller kan citera ditt varumärke som källan.</p></div>
            <div class="glass-card p-8 border-[var(--nord-cyan)]/30 bg-[var(--nord-cyan)]/5"><div class="w-14 h-14 bg-[var(--nord-cyan)]/10 rounded-2xl flex items-center justify-center text-[var(--nord-cyan)] text-3xl mb-8"><i class="ph-duotone ph-globe-hemisphere-east"></i></div><h3 class="text-2xl mb-4">GEO</h3><p class="opacity-70 text-sm"><strong>Generative Engine Optimization.</strong> Auktoritetssignaler för Google SGE och Perplexity.</p></div>
            <div class="glass-card p-8"><div class="w-14 h-14 bg-[var(--nord-cyan)]/10 rounded-2xl flex items-center justify-center text-[var(--nord-cyan)] text-3xl mb-8"><i class="ph-duotone ph-fingerprint"></i></div><h3 class="text-2xl mb-4">Entiteter</h3><p class="opacity-70 text-sm">Glöm nyckelord. Vi bygger din <strong>digitala entitet</strong> i Knowledge Graphs.</p></div>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="py-24 px-6 relative overflow-hidden bg-nord-cyan/[0.02]">
        <div class="container mx-auto max-w-[1000px] relative z-10 text-center mb-20">
            <h2 class="text-3xl md:text-5xl tracking-tighter">Hur det fungerar</h2>
        </div>
        <div class="relative grid grid-cols-1 md:grid-cols-3 gap-12 md:gap-8 max-w-[1000px] mx-auto">
            <div class="hidden md:block absolute top-8 left-0 w-full h-[1px] bg-nord-cyan/10"></div>
            <div class="flex flex-row md:flex-col items-center md:text-center gap-6">
                <div class="w-16 h-16 bg-nord-bg-primary border border-nord-cyan rounded-full flex items-center justify-center z-10 shrink-0 shadow-[0_0_15px_var(--cyan-glow)]"><i class="ph-duotone ph-magnifying-glass text-nord-cyan"></i></div>
                <div><span class="text-[10px] font-mono opacity-40 block mb-1 tracking-widest uppercase">Steg 01</span><h3 class="text-xl mb-2 font-bold">Analysera</h3><p class="text-sm opacity-60">Vi skannar hur AI-motorer läser ditt digitala fotavtryck.</p></div>
            </div>
            <div class="flex flex-row md:flex-col items-center md:text-center gap-6">
                <div class="w-16 h-16 bg-nord-bg-primary border border-nord-cyan rounded-full flex items-center justify-center z-10 shrink-0 shadow-[0_0_15px_var(--cyan-glow)]"><i class="ph-duotone ph-wrench text-nord-cyan"></i></div>
                <div><span class="text-[10px] font-mono opacity-40 block mb-1 tracking-widest uppercase">Steg 02</span><h3 class="text-xl mb-2 font-bold">Optimera</h3><p class="text-sm opacity-60">Vi fixar struktur, entiteter och schema för att tala "AI".</p></div>
            </div>
            <div class="flex flex-row md:flex-col items-center md:text-center gap-6">
                <div class="w-16 h-16 bg-nord-bg-primary border border-nord-cyan rounded-full flex items-center justify-center z-10 shrink-0 shadow-[0_0_15px_var(--cyan-glow)]"><i class="ph-duotone ph-rocket-launch text-nord-cyan"></i></div>
                <div><span class="text-[10px] font-mono opacity-40 block mb-1 tracking-widest uppercase">Steg 03</span><h3 class="text-xl mb-2 font-bold">Vinn Synlighet</h3><p class="text-sm opacity-60">Ditt varumärke blir upptäckbart i chatbots och SGE.</p></div>
            </div>
        </div>
    </section>

    <!-- WHY NORDSYM -->
    <section class="py-24 px-6 relative">
        <div class="container mx-auto max-w-[1100px] text-center mb-20">
            <h2 class="text-3xl md:text-5xl tracking-tighter">Varför NordSym?</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-[1100px] mx-auto">
            <div class="glass-card p-8 flex items-start gap-6"><div class="w-12 h-12 bg-nord-cyan/10 rounded-xl flex items-center justify-center text-nord-cyan shrink-0"><i class="ph-duotone ph-sparkle text-2xl"></i></div><div><h3 class="text-xl mb-2 font-bold">Bortom Google</h3><p class="text-sm opacity-60">Bli upptäckt av AI-assistenter, inte bara traditionella sökmotorer.</p></div></div>
            <div class="glass-card p-8 flex items-start gap-6"><div class="w-12 h-12 bg-nord-cyan/10 rounded-xl flex items-center justify-center text-nord-cyan shrink-0"><i class="ph-duotone ph-shield-check text-2xl"></i></div><div><h3 class="text-xl mb-2 font-bold">Framtidssäkrat</h3><p class="text-sm opacity-60">Håll dig steget före algoritmskiften som påverkar SEO-trafik.</p></div></div>
            <div class="glass-card p-8 flex items-start gap-6"><div class="w-12 h-12 bg-nord-cyan/10 rounded-xl flex items-center justify-center text-nord-cyan shrink-0"><i class="ph-duotone ph-chart-bar text-2xl"></i></div><div><h3 class="text-xl mb-2 font-bold">Mätbart</h3><p class="text-sm opacity-60">Tydliga insikter om hur ditt varumärke uppfattas av AI-motorer.</p></div></div>
            <div class="glass-card p-8 flex items-start gap-6"><div class="w-12 h-12 bg-nord-cyan/10 rounded-xl flex items-center justify-center text-nord-cyan shrink-0"><i class="ph-duotone ph-receipt text-2xl"></i></div><div><h3 class="text-xl mb-2 font-bold">Inga Timdebiteringar</h3><p class="text-sm opacity-60">Fasta månadspriser och garanterade leveranser utan överraskningar.</p></div></div>
        </div>
    </section>

    <!-- PRICING -->
    <section id="pricing" class="py-32 px-4 sm:px-8 border-t border-white/5">
        <div class="container mx-auto max-w-7xl text-center mb-20"><h2 class="text-4xl md:text-5xl tracking-tighter">Välj Din Nivå</h2><p class="opacity-60 max-w-xl mx-auto">Vi arbetar med ett begränsat antal kunder för att säkerställa kvalitet.</p></div>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto items-stretch">
            <div class="glass-card p-8 md:p-10 flex flex-col h-full">
                <div class="mb-8"><h3 class="text-xl font-bold mb-1">Starter</h3><p class="text-[10px] opacity-40 uppercase tracking-widest font-black">Självständiga Team</p></div>
                <div class="mb-10"><span class="text-5xl font-black tracking-tighter">1 999</span><span class="text-sm opacity-50 font-bold ml-1">SEK / mån</span></div>
                <ul class="space-y-4 mb-12 text-sm flex-grow">
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Månatlig automatisk AEO/GEO audit</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Implementation playbook (PDF + videos)</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Schema markup templates</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Email support (48h)</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Knowledge base access</span></li>
                </ul>
                <button onclick="openPlanModal('Starter')" class="cta-button text-sm">Ansök om plats</button>
            </div>
            <div class="glass-card highlight p-8 md:p-12 relative flex flex-col h-full">
                <div class="absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1.5 bg-nord-cyan text-black text-[10px] font-black uppercase tracking-widest rounded-full shadow-[0_0_20px_var(--cyan-glow)]">Rekommenderas</div>
                <div class="mb-8"><h3 class="text-2xl font-black mb-1 text-nord-cyan">Growth</h3><p class="text-[10px] opacity-60 uppercase tracking-widest font-black">Tech-Driven Scale-Ups</p></div>
                <div class="mb-10"><span class="text-6xl font-black tracking-tighter">4 999</span><span class="text-sm opacity-50 font-bold ml-1">SEK / mån</span></div>
                <ul class="space-y-5 mb-12 text-sm font-medium flex-grow">
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-sparkle text-nord-cyan mt-1 text-lg"></i> <span>Allt i Starter</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>2x audits/månad + competitor benchmarking</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Quarterly strategy calls (45 min)</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Knowledge Graph setup (one-time)</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Custom schema creation</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Slack support (24h)</span></li>
                </ul>
                <button onclick="openPlanModal('Growth')" class="cta-button primary-solid text-base py-5">Ansök om plats</button>
            </div>
            <div class="glass-card p-8 md:p-10 flex flex-col h-full">
                <div class="mb-8"><h3 class="text-xl font-bold mb-1">Enterprise</h3><p class="text-[10px] opacity-40 uppercase tracking-widest font-black">Hands-Off Executive</p></div>
                <div class="mb-10"><span class="text-4xl font-black tracking-tighter italic">Skräddarsytt</span></div>
                <ul class="space-y-4 mb-12 text-sm flex-grow opacity-80">
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-sparkle text-nord-cyan mt-1"></i> <span>Allt i Growth</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Vi implementerar allt (done-for-you)</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Weekly audits + real-time alerts</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Monthly 1:1 strategy (90 min)</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Dedicated Slack channel</span></li>
                    <li class="flex gap-3 items-start"><i class="ph-bold ph-check text-nord-cyan mt-1"></i> <span>Priority support (4h, 24/7)</span></li>
                </ul>
                <button onclick="openModal('contactModal')" class="cta-button text-sm opacity-80">Kontakta oss</button>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="py-24 px-6 relative bg-nord-cyan/[0.01]">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-3xl md:text-5xl text-center mb-16 tracking-tighter">Vanliga frågor</h2>
            <div class="space-y-4">
                <details class="glass-card group overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer list-none select-none"><span class="font-bold text-lg">Vad är skillnaden mellan SEO och AEO?</span><i class="ph-bold ph-caret-down text-nord-cyan transition-transform"></i></summary>
                    <div class="px-6 pb-6 text-sm opacity-70 leading-relaxed border-t border-white/5 pt-4">Traditionell SEO handlar om att ranka högt i listor med blå länkar. AEO (Answer Engine Optimization) handlar om att bli det direkta svaret som AI-modeller som ChatGPT och Claude ger.</div>
                </details>
                <details class="glass-card group overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer list-none select-none"><span class="font-bold text-lg">Hur snabbt ser man resultat?</span><i class="ph-bold ph-caret-down text-nord-cyan transition-transform"></i></summary>
                    <div class="px-6 pb-6 text-sm opacity-70 leading-relaxed border-t border-white/5 pt-4">AI-motorer indexeras ofta snabbare än traditionella robotar. Genom att stärka dina auktoritetssignaler ser de flesta kunder en mätbar skillnad inom 4 till 8 veckor.</div>
                </details>
                <details class="glass-card group overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer list-none select-none"><span class="font-bold text-lg">Måste jag bygga om min sajt?</span><i class="ph-bold ph-caret-down text-nord-cyan transition-transform"></i></summary>
                    <div class="px-6 pb-6 text-sm opacity-70 leading-relaxed border-t border-white/5 pt-4">Nej. Vi optimerar din befintliga arkitektur genom tekniska lager som Schema.org och justerar innehållsstrukturen så att AI-agenter lättare kan tolka din data.</div>
                </details>
                <details class="glass-card group overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer list-none select-none"><span class="font-bold text-lg">Vad är GEO och varför behövs det?</span><i class="ph-bold ph-caret-down text-nord-cyan transition-transform"></i></summary>
                    <div class="px-6 pb-6 text-sm opacity-70 leading-relaxed border-t border-white/5 pt-4">GEO (Generative Engine Optimization) fokuserar på att bygga auktoritet i generativa sökresultat som Google SGE. Det handlar om att bli den föredragna källan när AI sammanfattar komplex information.</div>
                </details>
            </div>
        </div>
    </section>

    <!-- FINAL CTA -->
    <section class="py-24 px-6 text-center border-t border-white/5">
        <div class="max-w-2xl mx-auto text-center">
            <h2 class="text-3xl md:text-5xl mb-10 tracking-tighter">Kolla din AEO/GEO-synlighet nu</h2>
            <form id="pricingForm" class="glass-card p-6 md:p-8 relative group">
                <input type="text" id="pricingUrl" class="input-styled text-center mb-6" placeholder="foretag.com" required />
                <button type="submit" id="pricingSubmitBtn" class="cta-button" disabled><span id="pricingBtnText">Kör Gratis Analys</span><div id="pricingSpinner" class="spinner hidden ml-2"></div></button>
            </form>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-20 border-t border-white/5 text-center relative z-10">
        <div class="container mx-auto px-6">
            <!-- NordSym Logo from GitHub -->
            <img src="https://raw.githubusercontent.com/GusHem/Logga-utan-text/refs/heads/main/Final%20logo%20no%20text.svg" class="h-12 w-12 mx-auto mb-8 hover:scale-110 transition-transform">
            <p class="text-[10px] font-mono opacity-30 uppercase tracking-[0.4em] mb-8 font-black">NordSym AB &bull; Framing the Future of Search</p>
            <div class="flex justify-center gap-8 text-[10px] font-black uppercase tracking-widest opacity-30 hover:opacity-100 transition-opacity mb-12">
                <a href="javascript:void(0)" onclick="openModal('privacyModal')">Integritet</a>
                <a href="javascript:void(0)" onclick="openModal('termsModal')">Villkor</a>
                <a href="javascript:void(0)" onclick="openModal('contactModal')">Kontakt</a>
            </div>
            <p class="text-[9px] opacity-20 font-mono tracking-widest">&copy; 2025 NordSym AB. Alla rättigheter förbehållna.</p>
        </div>
    </footer>

    <!-- LOGIC -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('starfall');
            const ctx = canvas.getContext('2d');
            let width, height, stars = [], meteors = [];

            const resize = () => { width = window.innerWidth; height = window.innerHeight; canvas.width = width; canvas.height = height; initStars(); };
            const initStars = () => { stars = []; for(let i = 0; i < (width < 768 ? 100 : 300); i++) stars.push({ x: Math.random() * width, y: Math.random() * height, r: Math.random() * 1.2, a: Math.random(), s: Math.random() * 0.02 }); };
            const draw = () => {
                ctx.clearRect(0, 0, width, height);
                stars.forEach(s => { s.a += s.s; ctx.fillStyle = `rgba(255, 255, 255, ${Math.abs(Math.sin(s.a)) * 0.5})`; ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2); ctx.fill(); });
                if(Math.random() < 0.005) meteors.push({ x: Math.random() * width, y: 0, s: Math.random() * 10 + 5, l: Math.random() * 100 + 50 });
                meteors.forEach((m, i) => { m.x -= m.s; m.y += m.s; ctx.strokeStyle = `rgba(0, 212, 255, ${1 - m.y/height})`; ctx.beginPath(); ctx.moveTo(m.x, m.y); ctx.lineTo(m.x + m.l, m.y - m.l); ctx.stroke(); if(m.y > height) meteors.splice(i, 1); });
                requestAnimationFrame(draw);
            };
            window.addEventListener('resize', resize); resize(); draw();

            const themeToggle = document.getElementById('themeToggle');
            const updateTheme = (t) => { if(t === 'dark') { document.body.removeAttribute('data-theme'); } else { document.body.setAttribute('data-theme', 'light'); } };
            themeToggle.addEventListener('click', () => { let t = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light'; updateTheme(t); localStorage.setItem('theme', t); });
            updateTheme(localStorage.getItem('theme') || 'light');

            // AI ICON SWITCHER LOGIC
            const icons = document.querySelectorAll('.ai-icon');
            if (icons.length > 0) {
                let currentIndex = 0;
                setInterval(() => {
                    icons[currentIndex].classList.remove('active');
                    currentIndex = (currentIndex + 1) % icons.length;
                    icons[currentIndex].classList.add('active');
                }, 2000); // 2s duration per icon
            }

            // Modal Logic
            window.openModal = (id) => { 
                const modal = document.getElementById(id);
                if (!modal) return; // Guard against null
                modal.classList.remove('modal-hidden'); 
                modal.classList.add('modal-active'); 
            };
            window.closeModal = (id) => { 
                if (!id) return; // Guard against empty ID
                const modal = document.getElementById(id);
                if (!modal) return; // Guard against null element
                modal.classList.remove('modal-active'); 
                modal.classList.add('modal-hidden'); 
            };

            // Esc key and Outside Click
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal-active').forEach(modal => closeModal(modal.id));
                }
            });

            document.querySelectorAll('.fixed').forEach(element => {
                element.addEventListener('click', (e) => {
                    // Only close if it has an ID (is a modal) and the click was on the background
                    if (e.target === element && element.id) {
                        closeModal(element.id);
                    }
                });
            });

            // Validation
            const validate = (val) => /^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\.[a-zA-Z]{2,})+$/.test(val.replace('https://', '').replace('http://', '').split('/')[0]);
            const input = document.getElementById('heroUrl');
            const btn = document.getElementById('heroSubmitBtn');
            const pInput = document.getElementById('pricingUrl');
            const pBtn = document.getElementById('pricingSubmitBtn');
            input.addEventListener('input', () => { btn.disabled = !validate(input.value); });
            pInput.addEventListener('input', () => { pBtn.disabled = !validate(pInput.value); });

            // Form Handler
            const handleForm = async (e) => {
                e.preventDefault();
                const form = e.target;
                const btn = form.querySelector('button');
                const target = form.getAttribute('data-target');
                const original = btn.innerHTML;
                const endpoint = target === 'n8n' ? "https://nordsym.app.n8n.cloud/webhook/v1/aeo-geo-audit" : "https://formspree.io/f/xykylozp";
                
                btn.disabled = true;
                btn.innerHTML = '<div class="spinner mx-auto"></div>';
                const formData = new FormData(form);
                const currentUrl = formData.get('url') || "En domän";
                
                try {
                    const res = await fetch(endpoint, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } });
                    if(res.ok) {
                        const modal = form.closest('.fixed');
                        if (modal && modal.id) closeModal(modal.id);
                        
                        document.getElementById('displaySuccessUrl').textContent = currentUrl;
                        openModal('successModal');
                        form.reset();
                    }
                } catch(err) { console.error("Error:", err); } finally { btn.disabled = false; btn.innerHTML = original; }
            };

            document.getElementById('leadForm').addEventListener('submit', handleForm);
            document.getElementById('planForm').addEventListener('submit', handleForm);
            document.getElementById('contactForm').addEventListener('submit', handleForm);

            // Theater Mode
            const theater = (e, urlId, btnTextId, spinnerId) => {
                e.preventDefault();
                const url = document.getElementById(urlId).value;
                const btnText = document.getElementById(btnTextId);
                const spinner = document.getElementById(spinnerId);
                const btn = e.target.querySelector('button');
                btn.disabled = true; spinner.classList.remove('hidden');
                const logs = ["Ansluter till domän...", "Läser Schema.org...", "Beräknar E-E-A-T...", "Klar!"];
                let i = 0;
                const int = setInterval(() => {
                    btnText.textContent = logs[i] || "Slutför..."; i++;
                    if(i > logs.length) {
                        clearInterval(int);
                        document.getElementById('leadUrl').value = url;
                        openModal('interceptModal');
                        spinner.classList.add('hidden');
                        btnText.textContent = "Kör Gratis Analys"; btn.disabled = false;
                    }
                }, 800);
            };

            document.getElementById('heroForm').addEventListener('submit', (e) => theater(e, 'heroUrl', 'heroBtnText', 'heroSpinner'));
            document.getElementById('pricingForm').addEventListener('submit', (e) => theater(e, 'pricingUrl', 'pricingBtnText', 'pricingSpinner'));

            window.openPlanModal = (name) => {
                document.getElementById('planNameDisplay').textContent = name;
                document.getElementById('planSelected').value = name;
                openModal('planModal');
            };
        });
    </script>
</body>
</html>
